'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = function (delimiter) {
  if (typeof delimiter !== 'string') throw new TypeError('expecting a string');
  return function (str) {
    if (typeof str !== 'string') throw new TypeError('expecting a string');
    if (str.indexOf(delimiter) === -1) return {};
    var key = str.slice(0, str.indexOf(delimiter)).trim();
    var value = str.slice(str.indexOf(delimiter) + 1).trim();
    return _defineProperty({}, key, value.length !== 0 ? value : {});
  };
};